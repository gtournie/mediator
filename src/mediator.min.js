var Mediator=function(){
var t={}.toString,e={}.hasOwnProperty
return{events:{},defaultMemo:{},memoAsSecondArg:!1,on:function(t){var e=arguments.length
if(!t||2>e)return this
var r=this.events,o=arguments
return n(t,function(t){r[t]||(r[t]=[])
for(var n=r[t],i,s=1;e>s;++s)i=o[s],"function"==typeof i&&n.push(i)}),this},off:function(t){var e=arguments.length
if(0===e)return this.events={},this
var r=this.events,o=arguments
return 1===e?n(t,function(t){delete r[t]}):n(t,function(t){for(var n=r[t]||[],i,s=1;e>s;++s)for(i=n.length;i--;)o[s]===n[i]&&n.splice(i,1)
0===n.length&&delete r[t]}),this},trigger:function(r,o){if(!r)return this
var i=this.defaultMemo
if(arguments.length<2)o=i
else if("[object Object]"===t.call(o)&&"[object Object]"===t.call(i))for(var s in i)e.call(o,s)||(o[s]=i[s])
var u=this.events,f=this.memoAsSecondArg
return n(r,function(t){for(var e=u[t]||[],n=0,r=e.length;r>n;++n)f?e[n](null,o):e[n](o)}),this}}
function n(t,e){t=(""+t).split(/\s+/)
for(var n=0,r,o=t.length;o>n;++n)r=t[n],r&&e(r)}}()
"undefined"!=typeof module&&module.exports&&(module.exports=Mediator)