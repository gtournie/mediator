var Mediator=function(){"use strict"
var t=Object.prototype.toString
return{events:{},defaultMemo:{},memoAsSecondArg:!1,on:function(t){var n=arguments.length
if(!t||2>n)return this
var r=this.events,i=arguments
return e(t,function(t){r[t]||(r[t]=[])
for(var e=r[t],o=1;n>o;++o)e.push(i[o])}),this},off:function(t){var n=arguments.length
if(0===n)return this.events={},this
var r=this.events,i=arguments
return 1===n?e(t,function(t){delete r[t]}):e(t,function(t){for(var e=r[t]||[],o,s=e.length-1;s>=0;--s)for(o=1;n>o;++o)i[o]===e[s]&&e.splice(s,1)
0===e.length&&delete r[t]}),this},trigger:function(n,r){if(!n)return this
var i=this.defaultMemo
if(arguments.length<2)r=i
else if("[object Object]"===t.call(r)&&"[object Object]"===t.call(i))for(var o in i)o in r||(r[o]=i[o])
var s=this.events,u=this.memoAsSecondArg
return e(n,function(t){for(var e=s[t]||[],n=0,i=e.length;i>n;++n)u?e[n](null,r):e[n](r)}),this}}
function e(t,e){t=(""+t).split(/\s+/)
for(var n=0,r,i=t.length;i>n;++n)r=t[n],r&&e(r)}}()
"undefined"!=typeof module&&module.exports&&(module.exports=Mediator)